<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * Copyright (C) 2020  Zigly
 * @package  Zigly_GroomingService
 */
 -->
<schema xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:Setup/Declaration/Schema/etc/schema.xsd">
    <table name="zigly_service_grooming" resource="default" engine="innodb" comment="Zigly Grooming service">

        <column xsi:type="int" name="entity_id" padding="6" unsigned="false" nullable="false" identity="true" comment="Entity Id" />
        <column xsi:type="int" name="customer_id" nullable="false" comment="Customer Id" />
        <column xsi:type="int" name="pet_id" nullable="false" comment="Pet Id" />
        <column xsi:type="int" name="planid" nullable="false" comment="Plan Id" />
        <column xsi:type="int" name="wallet_money" nullable="true" comment="wallet money" />
        <column xsi:type="int" name="professional_amount" nullable="true" comment="Professional Amount" />
        <column xsi:type="int" name="commission_percentage" nullable="true" comment="Professional commission percentage" />
        <column xsi:type="int" name="wallet_id" nullable="true" comment="wallet id" />
        <column xsi:type="text" name="pet_name" nullable="false" comment="Pet Name" />
        <column xsi:type="text" name="pet_species" nullable="false" comment="Pet Species" />
        <column xsi:type="varchar" name="pet_breed" nullable="false" length="255" comment="Pet Breed" />
        <column xsi:type="text" name="pet_gender" nullable="false" comment="Pet Gender" />
        <column xsi:type="text" name="pet_age" nullable="false" comment="Pet Age" />
        <column xsi:type="text" name="pet_dob" nullable="false" comment="Pet DOB"/>
        <column xsi:type="text" name="pet_category" nullable="false" comment="Pet Category" />
        <column xsi:type="text" name="phone_no" nullable="false" comment="Pet Age" />
        <column xsi:type="varchar" name="plan_name" nullable="false" comment="Plan Name" />
        <column xsi:type="varchar" name="plan_activites" nullable="false" length="1024" comment="Plan Activity" />
        <column xsi:type="text" name="subtotal" nullable="false" comment="Subtotal"/>
        <column xsi:type="text" name="grand_total" nullable="false" comment="Grand Total"/>
        <column xsi:type="text" name="is_custom" nullable="true" comment="Is Custom"/>
        <column xsi:type="text" name="coupon_code" nullable="true" comment="Applied Coupon"/>
        <column xsi:type="text" name="coupon_amount" nullable="true" comment="Applied Coupon Amount"/>
        <column xsi:type="varchar" name="coupon_description" nullable="true" comment="Applied Coupon Description"/>
        <column xsi:type="text" name="payment_mode" nullable="false" comment="Payment Mode"/>
        <column xsi:type="text" name="payment_status" nullable="false" comment="Payment Status"/>
        <column xsi:type="text" name="payment_trans_id" nullable="true" comment="Payment Transaction Id"/>
        <column xsi:type="text" name="razorpay_order_id" nullable="true" comment="Razorpay Order Id"/>
        <!-- <column xsi:type="varchar" name="address_data" nullable="false" length="1024" comment="Address Data"/> -->
        <column xsi:type="varchar" name="street" nullable="true" length="255" comment="Street"/>
        <column xsi:type="varchar" name="region" nullable="true" length="255" comment="Region"/>
        <column xsi:type="text" name="region_id" nullable="true" comment="Region Id"/>
        <column xsi:type="varchar" name="product_sku" nullable="true" length="255" comment="Product SKU for plan"/>
        <column xsi:type="varchar" name="city" nullable="true" length="255" comment="City"/>
        <column xsi:type="varchar" name="postcode" nullable="true" length="255" comment="Postcode"/>
        <column xsi:type="text" name="scheduled_date" nullable="false" comment="Scheduled Date"/>
        <column xsi:type="text" name="scheduled_time" nullable="false" comment="Scheduled Time"/>
        <column xsi:type="text" name="scheduled_timestamp" nullable="false" comment="Scheduled Timestamp"/>
        <column xsi:type="text" name="booking_status" nullable="false" comment="Status"/>
        <column xsi:type="text" name="groomer_id" nullable="true" comment="Groomer Id"/>
        <column xsi:type="int" name="visibility" default="1" nullable="false" comment="Visiblity" />
        <column xsi:type="int" name="booking_type" nullable="false" comment="Booking Type (Grooming/Vet/Train)" />
        <column xsi:type="text" name="center" nullable="true" comment="At Center (Home/Experience)" />
        <column xsi:type="int" name="review" default="0" nullable="false" comment="review" />
        <column xsi:type="timestamp" name="created_at" on_update="false" nullable="false" default="CURRENT_TIMESTAMP"
                comment="Created At"/>
        <column xsi:type="timestamp" name="updated_at" on_update="true" nullable="false" default="CURRENT_TIMESTAMP"
                comment="Updated At"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="entity_id" />
        </constraint>
    </table>
    <table name="zigly_service_grooming_comment" resource="default" engine="innodb" comment="Zigly Grooming Service Comment Table">
        <column xsi:type="int" name="comment_id" padding="6" unsigned="false" nullable="false" identity="true" comment="Entity Id"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="comment_id"/>
        </constraint>
        <column xsi:type="int" name="service_id" padding="6" unsigned="false" nullable="false" identity="false" comment="Service Id"/>
        <constraint xsi:type="foreign" referenceId="ZIG_SER_GRO_SERVICE_ID_ZIG_SER_COM_SERVICE_ID" table="zigly_service_grooming_comment" column="service_id" referenceTable="zigly_service_grooming" referenceColumn="entity_id" onDelete="CASCADE"/>
        <column name="service_status" nullable="true" xsi:type="text" comment="comment"/>
        <column name="comment" nullable="true" xsi:type="text" comment="comment"/>
        <column name="created_by" nullable="true" xsi:type="text" comment="created_by"/>
        <column name="created_at" nullable="true" xsi:type="timestamp" comment="created_at" default="CURRENT_TIMESTAMP"/>
    </table>
    <table name="sales_order" resource="sales" engine="innodb" comment="Sales Flat Order">
        <column name="booking_id" nullable="true" xsi:type="varchar" comment="Booking Id" length="255"/>
        <column name="wallet_item_cancel" nullable="true" xsi:type="varchar" comment="item cancel" length="255"/>
    </table>
</schema>
